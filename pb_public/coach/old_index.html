<html>
    <head>
        <script src="/coach/res/axios.min.js"></script>
        <link rel="stylesheet" href="/coach/res/font-awesome.min.css">
        <link rel="stylesheet" href="/coach/res/bulma.min.css">
        <link href="/coach/res/bulma-switch.min.css" rel="stylesheet"></link>

        <title>
            Huddlerr Start Page
        </title>
    </head>
    <body>
        <div class="container">

            <div class="columns">
                <div class="column">
                    <h2 class="title is-2">Control the Game</h2>
                <a href="control.html?session=dragons" class="button is-danger is-outlined">control dragons game</a> </br> </br>
  
                <a href="control.html?session=phoenix" class="button is-danger is-outlined">control phoenix game</a> </br> </br>
           
                <a href="control.html?session=defenders" class="button is-danger is-outlined">control defenders game</a>
                </div>

                <div class="column">
                    <h2 class="title is-2">View the Game</h2>
                    <a href="scoreboard.html?session=dragons" class="button is-info ">view dragons game</a> </br> </br>
    
                    <a href="scoreboard.html?session=phoenix" class="button is-info ">view phoenix game</a> </br> </br>
            
                    <a href="scoreboard.html?session=defenders" class="button is-info ">view defenders game</a>
                </div>
                <div class="column">
                    <li><i x-show="!showLogin" @click="logout()" class="" style="cursor: pointer">Logout of Account</i></li>
                    <div x-init="console.log('I\'m being initialized!')"></div>
                    <template x-for="list in lists">
                        <div style="display:flex; justify-content: space-between; margin-top: 1rem">Player: 
                          <u><strong x-text="list.name" @click="selectList(list)" style="cursor: pointer;"></strong></u>
                          <i @click="deleteList(list)" class="bx bx-trash bx-sm" style="text-align: end; cursor: pointer"></i>
                        </div>
                      </template>
                </div>
            </div>
        </div>
    </body>
</html>

<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

<script src="./js/pocketbase.umd.js"></script>



<script src="./js/pbControls.js"></script>


<script>
console.log("init");
    
document.addEventListener('alpine:init', () => {
    Alpine.data('lists', () => ({
        // VARIABLES
        client: null,
        showLogin: false,
        
        async init () {
        // initialize pocketbase
            console.log("Made it here?");
            /*
            this.client = new PocketBase('http://127.0.0.1:8090');

            const result = await pb.collection('players').getList(1, 20, {
                filter: 'created > "2022-08-01 10:00:00"'
            });

            console.log(result);
            */
        },

        async logout() {
            console.log("Made it this far");

            if (this.showLogin){
                this.showLogin = false;
            } else {
                this.showLogin = true;
            }
        }

    }))
})

</script>